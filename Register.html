<!DOCTYPE HTML>
<html>
  <head>
    <meta charset="UTF-8">
    <title>register</title>
    <style>

    </style>
  </head>
  <body>
	
	
	<form id="registerform" action="register.php" method="get">
		<p>
		<label for="name">name:</label>
		<input type="text" id="name" name="name" maxlength="50">
		</p>
		
		<p>
		<label for="email">email:</label>
		<input type="email" id="email" name="email">
		<p id = 'checkEmailMsg'> " "</p>
		</p>
		
		<p>
		<label for="password">Password:</label>
		<input type="text" id="password" name="password" maxlength="50">
		</p>
		
		<p>
		<label for="confirmation">Confirmation:</label>
		<input type="text" id="confirmation" name="confirmation" maxlength="50">
		</p>		
		
		<input class="bttn" type="submit" value="register">
	</form>
 
 
 
 
 
    <script>
		var email = document.getElementById("email");
		email.addEventListener('blur', checkEmail);
		
		function checkEmail(){
			fetch('checkEmail.php?email='+email.value)
				.then( 
					response =>{
						if (response.status == 200){
							response.text().then( data => {
								document.getElementById('checkEmailMsg').innerHTML = data;
							});
						
						} else {
						console.log("HTTP return status: "+response.status);
						}
					}
				)
				.catch( 
					err => {
						console.log("Fetch Error!");
					}
				);
			
			
		}
		
    </script>
  </body>
</html>